<blueprint default-activation="eager"
           xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.0.0"
           xmlns:jaxws="http://cxf.apache.org/blueprint/jaxws"
           xmlns:jaxrs="http://cxf.apache.org/blueprint/jaxrs"
           xmlns:cxf="http://cxf.apache.org/blueprint/core"
           xsi:schemaLocation='
  http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
  http://cxf.apache.org/blueprint/jaxws http://cxf.apache.org/schemas/blueprint/jaxws.xsd
  http://cxf.apache.org/blueprint/jaxrs http://cxf.apache.org/schemas/blueprint/jaxrs.xsd
  http://cxf.apache.org/blueprint/core http://cxf.apache.org/schemas/blueprint/core.xsd'>

    <!-- Service objects -->

  <!--  <bean id="taskStore" class="com.modio.blog.osgi.rest.server.TaskStore"/>-->


<bean id="taskServiceImpl" class="bi.meteorite.core.security.rest.UserServiceImpl">
        <!--<property name="store" ref="taskStore"/>-->
    </bean>

    <!-- REST service -->

    <bean id="cxfServlet" class="org.apache.cxf.transport.servlet.CXFServlet" />

    <bean id="jsonProvider" class="com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider"/>

    <jaxrs:server id="taskService" address="/rest/core">
        <jaxrs:serviceBeans>
            <ref component-id="taskServiceImpl" />
        </jaxrs:serviceBeans>
        <jaxrs:providers>
            <!-- Binding Providers -->
            <ref component-id="jsonProvider"/>
            <!-- Exception Mappers -->
        </jaxrs:providers>
        <jaxrs:features>
            <cxf:logging />
        </jaxrs:features>
        <jaxrs:extensionMappings>
            <entry key="json" value="application/json" />
        </jaxrs:extensionMappings>
    </jaxrs:server>

    <!-- Services -->

    <service interface="javax.servlet.http.HttpServlet" ref="cxfServlet">
        <service-properties>
            <entry key="alias" value="/services" />
            <entry key="servlet-name" value="bi.meteorite.core.api"/>
        </service-properties>
    </service>
</blueprint>